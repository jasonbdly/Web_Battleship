{"name":"Web Battleship","tagline":"","body":"# Web Battleship Prototype Game\r\n\r\n## Game Modules\r\nThe game logic is divided into three central modules. \r\nLook for any function definitions with an uppercase name to find them in the code.\r\nThey are the following:\r\n1. BattleshipGame\r\n  *Controls most of the logic in the game.\r\n  *Responsible for handling user interactions.\r\n  *Determines the next state of the game based on info from the user.\r\n2. PrimaryDisplay\r\n  *Controls the what is displayed in the primary display.\r\n  *Provides simple interfaces so that an instance of BattleshipGame can communicate with it.\r\n     (attackAtCell(x, y), areAllShipsDestroyed())\r\n2. TrackingDisplay\r\n  *Controls the what is displayed in the tracking display.\r\n  *Provides simple interfaces so that an instance of BattleshipGame can communicate with it.\r\n     (attackAtCell(x, y), areAllShipsDestroyed())\r\n\r\n## Randomly Placing Ships\r\nThe approach used here to randomly place ships is pretty much brute force, except that ships are placed one at a time, rather than repeatedly regenerating the positions of each ship until they all fit (which would be astronomically less performant than even this approach).\r\n\r\n### Steps\r\n1. Choose a random orientation, and a random position for each of the types of ships.\r\n2. Iterate through the list of ships, until you no longer find any collisions.\r\n3. When a collision is found, nudge that ship in a random direction and check it's new position.\r\n4. Repeat the previous step until no more collisions are found.\r\n\r\nAt the end of these steps, you should have a grid with ship pieces placed randomly throughout, with no overlap.\r\n\r\n## Detecting Collisions Between Ships\r\nBefore going over how to determine if two ships are colliding, here are the definitions of any words I'll be using in the explaination.\r\nThe \"width\" of a ship will refer to the number of grid cells the ship takes up in a horizontal direction, taking its orientation into account.\r\nThe \"height\" of a ship is similar to the \"width\", except that it applies to its vertical direction.\r\nThe \"bounds\" of a ship collision refers to the smallest rectangle that includes the ships involved in the collision, which only applies to two ships at a time in this case.\r\n\r\nKeep a game grid in mind, pick any 2 battleship pieces that could show up on the board, and place those pieces in such a way that they are colliding. Observe the \"bounds\" of the collision at this point, then move the pieces into another collision without rotating each piece, paying attention to the \"bounds\" of the collision after moving the pieces as well. You should find that the bounds of the collision at both points have exactly the same dimensions. We'll refer to these bounds as the \"mimimum bounds\" for a set of ships. These dimensions also happen to be the width of the \"widest\" ship and the height of the \"highest\" ship.\r\nYou should also find that there is no way to arrange the pieces such that the collision bounds are equal to the \"mimimum bounds\" without them colliding. This is what we can use to quickly detect collisions between ships.\r\nSome simple arithmatic and conditional statements can be used to determine the current bounds for a given pair of ships, and the minimum bounds can be determined even more quickly.\r\n\r\nIn summary, if the current bounds of any two ships are equal to the minimum bounds of those same two ships then they must be colliding.\r\nNOTE: This approach does not account for ships with the same orientation that happen to be residing in the same row or column. However, those can be caught by comparing the area of the current bounds with the total area of the ship pieces. The only case in which the total area would be less than the expected ship area is if the ships are colliding.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}